import{r as t,a as v,u as F,j as e,L as T}from"./index-fwt12_qc.js";import{u as E,a as C,T as a,I as d,b as c,R as I}from"./registervalid-L0xsBKmt.js";import{f as x,g as p}from"./index-BMd2bBmw.js";import{j as L}from"./Menu-Dwu6BLpr.js";import"./iconBase-58bLM_i5.js";function H(){const{RegisterHandler:u,load:m}=t.useContext(v),{register:r,handleSubmit:h,reset:b,formState:{errors:s,isDirty:g,isValid:j}}=E({resolver:C(I),mode:"all"}),[o,w]=t.useState(!1),[n,f]=t.useState(!1),[N,l]=t.useState(null),y=F(),S=async R=>{const i=await u(R);i.success?(y("/"),l(null)):l(i.message),b()};return e.jsxs("div",{className:"container w-100  mx-auto p-3 my-4",children:[e.jsxs("p",{className:"header fs-2 text-center fw-bold",children:["Register ",e.jsx("span",{className:"text-dark",children:"Form "})," "]}),e.jsxs("form",{onSubmit:h(S),className:"d-flex flex-column  Registerform  mx-auto p-4",children:[e.jsx(a,{...r("username"),label:"Username",className:"mb-3",type:"text",error:!!s.username,helperText:s.username&&s.username.message}),e.jsx(a,{...r("phonenumber"),label:"Phone-Number",className:"mb-3",type:"number",error:s.phonenumber,helperText:s.phonenumber&&s.phonenumber.message}),e.jsx(a,{...r("email"),label:"Email",className:"mb-3",type:"email",error:s.email,helperText:s.email&&s.email.message}),e.jsx(a,{...r("password"),label:"Password",className:"mb-3",type:o?"text":"password",error:s.password,helperText:s.password&&s.password.message,InputProps:{endAdornment:e.jsx(d,{position:"end",children:e.jsx(c,{onClick:()=>w(!o),children:o?e.jsx(p,{}):e.jsx(x,{})})})}}),e.jsx(a,{...r("confirmpassword"),label:"Confirm Password",className:"mb-3",type:n?"text":"password",error:s.confirmpassword,helperText:s.confirmpassword&&s.confirmpassword.message,InputProps:{endAdornment:e.jsx(d,{position:"end",children:e.jsx(c,{onClick:()=>f(!n),children:n?e.jsx(p,{}):e.jsx(x,{})})})}}),N&&e.jsx("div",{className:"w-100 w-md-75 mx-auto py-3 px-5 bg-danger text-light border border-3 rounded text-center",children:"Something went wrong , try again !"}),e.jsx("button",{disabled:!j||!g||m,className:"subbtn btn-danger w-50 w-md-25 mx-auto",children:m?e.jsx("div",{className:"flex gap-1 text-center",children:e.jsx(L,{className:"loader"})}):e.jsx(e.Fragment,{children:"Submit"})}),e.jsxs("p",{className:"text-center text-secondary",children:["Already have an account ?",e.jsx(T,{to:"/login",className:"text-decoration-none fw-bold",children:"  Login"})]})]})]})}export{H as default};
