import{r as t,a as f,u as w,j as e,L as N}from"./index-fwt12_qc.js";import{u as S,a as y,T as i,I as L,b as v,L as F}from"./registervalid-L0xsBKmt.js";import{f as E,g as I}from"./index-BMd2bBmw.js";import{j as R}from"./Menu-Dwu6BLpr.js";import"./iconBase-58bLM_i5.js";function P(){const{LoginHandler:m,load:r}=t.useContext(f),{register:o,handleSubmit:d,reset:c,formState:{errors:s,isDirty:x,isValid:p}}=S({resolver:y(F),mode:"all"}),[a,u]=t.useState(!1),[g,n]=t.useState(null),h=w(),j=async b=>{const l=await m(b);l.success?(h("/"),n(null)):n(l.message),c()};return e.jsxs("div",{className:"container w-100  mx-auto p-3 my-4",children:[e.jsxs("p",{className:"header fs-2 text-center fw-bold",children:["Login ",e.jsx("span",{className:"text-dark",children:"Form "})," "]}),e.jsxs("form",{onSubmit:d(j),className:"d-flex flex-column  Registerform  mx-auto p-4",children:[e.jsx(i,{...o("email"),label:"Email",className:"mb-3",type:"email",error:s.email,helperText:s.email&&s.email.message}),e.jsx(i,{...o("password"),label:"Password",className:"mb-3",type:a?"text":"password",error:s.password,helperText:s.password&&s.password.message,InputProps:{endAdornment:e.jsx(L,{position:"end",children:e.jsx(v,{onClick:()=>u(!a),children:a?e.jsx(I,{}):e.jsx(E,{})})})}}),g&&e.jsx("div",{className:"w-75 mx-auto py-3 px-5 bg-danger text-light border border-3 rounded text-center",children:"Something went wrong , try again !"}),e.jsx("button",{disabled:!p||!x||r,className:"subbtn btn-danger w-50 w-md-25 mx-auto",children:r?e.jsx("div",{className:"flex gap-1 text-center",children:e.jsx(R,{className:"loader"})}):e.jsx(e.Fragment,{children:"Login"})}),e.jsxs("p",{className:"text-center text-secondary",children:["Don't have an account ?",e.jsx(N,{to:"/login",className:"text-decoration-none fw-bold",children:"  Signup"})]})]})]})}export{P as default};
